{"mappings":"ACAA;IAEI,MAAM,CAAC,EAAC,MAAM,CAAA;CAEjB;ACJD;IAEW,CAAC,EAAC,MAAM,CAAA;IACR,CAAC,EAAC,MAAM,CAAA;gBAEH,CAAC,EAAC,MAAM,EAAE,CAAC,EAAC,MAAM;IAMvB,GAAG,CAAC,CAAC,EAAC,MAAM,EAAE,CAAC,EAAC,MAAM;IAOtB,GAAG,CAAC,KAAK,EAAE,OAAO,GAAG,OAAO;IAM5B,QAAQ,CAAC,KAAK,EAAE,OAAO,GAAG,OAAO;IAMjC,QAAQ,CAAC,MAAM,EAAE,MAAM,GAAG,OAAO;IAMjC,SAAS,IAAI,MAAM;IAMnB,SAAS,IAAI,OAAO;CAU9B;ACjDD,QAAe,QAAQ;IAEZ,SAAS,EAAE,OAAO,GAAG,SAAS,CAAA;IAC9B,KAAK,SAAK;IACV,MAAM,SAAK;aAEF,MAAM,IAAG,IAAI;CAEhC;ACPD;IAEW,SAAS,EAAC,OAAO,CAAoB;IAC5C,SAAS,CAAC,MAAM,EAAE,MAAM,GAAG,IAAI,CAAO;IAC/B,GAAG,EAAC,MAAM,CAAgB;WAEnB,MAAM,CAAC,GAAG,EAAE,gBAAgB;IAMnC,KAAK;IAEL,MAAM;IAEN,MAAM;CAUhB;AK9BD;IAEW,MAAM,EAAC,MAAM,CAAA;IACb,KAAK,EAAC,MAAM,CAAA;;IAWZ,IAAI;+BAEe,MAAM;gCACL,MAAM;MAEhC;IAEM,QAAQ,CAAC,EAAE,EAAC,MAAM,IAAI;IAmBtB,QAAQ;CAMlB;ACtCD;IAEI,OAAc,WAAW,cAAyB;IAClD,OAAc,GAAG,EAAC,wBAAwB,CAAA;IAC1C,OAAc,MAAM,EAAC,UAAU,CAAA;IAOxB,IAAI,aAAW;gBAEV,MAAM,CAAC,EAAC,gBAAgB;IA0E7B,GAAG;WAYI,IAAI;WAMJ,MAAM;WAMN,IAAI;WAKJ,MAAM;CAMvB","sources":["src/src/define/GamaSoruceState.ts","src/src/define/GamaSourceTime.ts","src/src/math/vector/Vector2.ts","src/src/rendering/Sprite.ts","src/src/gameObject/GameObject.ts","src/src/input/KeyBoard.ts","src/src/define/Time.ts","src/src/math/TimeController.ts","src/src/UI/view/GameCanvas.ts","src/src/UI/view/GameWindow.ts","src/src/GamaSource.ts","src/GamaSource.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,"import GamaSourceState from \"./define/GamaSoruceState\"\r\nimport GamaSourceConfig from \"./define/GamaSourceTime\"\r\nimport GameOject from \"./gameObject/GameObject\"\r\nimport KeyBoard from \"./input/KeyBoard\"\r\nimport TimeController from \"./math/TimeController\"\r\nimport GameCanvas from \"./UI/view/GameCanvas\"\r\nimport GameWindow from \"./UI/view/GameWindow\"\r\n\r\nexport default class GamaSource {\r\n\r\n    public static GameObjects = new Array<GameOject>()\r\n    public static ctx:CanvasRenderingContext2D\r\n    public static window:GameWindow\r\n\r\n    private static canvas:HTMLCanvasElement\r\n\r\n    private static state:GamaSourceState\r\n    private time:TimeController\r\n\r\n    public main = () => {}\r\n\r\n    constructor(config?:GamaSourceConfig) {\r\n\r\n        GamaSource.window = new GameWindow()\r\n\r\n        GameCanvas()\r\n        KeyBoard.initialize()\r\n\r\n        this.time = new TimeController(config?.maxFPS ?? 60)\r\n\r\n        GamaSource.state = GamaSourceState.CLOSED\r\n\r\n        GamaSource.canvas = document.querySelector<HTMLCanvasElement>(\"#game\") as HTMLCanvasElement\r\n\r\n        GamaSource.ctx = GamaSource.canvas.getContext(\"2d\") as CanvasRenderingContext2D\r\n\r\n    }\r\n\r\n    private start() {\r\n\r\n         this.main()\r\n\r\n        GamaSource.GameObjects.forEach((g) => g.start())\r\n\r\n    }\r\n\r\n    private update() {\r\n\r\n        GamaSource.GameObjects.forEach((g) => g.update())\r\n\r\n    }\r\n\r\n    private render() {\r\n        \r\n\r\n        GamaSource.ctx.clearRect(0, 0, GamaSource.window.WIDTH, GamaSource.window.HEIGHT)\r\n\r\n        GamaSource.GameObjects.forEach((g) => g.render())\r\n\r\n    }\r\n\r\n    private loop(currentTime:number) {\r\n\r\n        try {\r\n         \r\n            if (GamaSource.state != GamaSourceState.CLOSED && GamaSource.state != GamaSourceState.CRASHED) {\r\n\r\n                requestAnimationFrame((currentTime) => this.loop(currentTime))\r\n\r\n                this.time.DeltaTime = this.time.getDeltaTime(currentTime)\r\n\r\n                if (this.time.DeltaTime >= this.time.getFrameInterval()) return;\r\n         \r\n                if (GamaSource.state != GamaSourceState.STOPPED) {\r\n\r\n                    this.update()\r\n\r\n                }\r\n\r\n                this.render()\r\n\r\n                this.time.updateFrame(currentTime)\r\n    \r\n            }\r\n\r\n        } catch (err) {\r\n            \r\n            console.error(err);\r\n\r\n            GamaSource.state = GamaSourceState.CRASHED\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public run() {\r\n\r\n         this.start()\r\n\r\n        GamaSource.state = GamaSourceState.RUNNING;\r\n\r\n        this.time.updateLastFrame()\r\n\r\n        requestAnimationFrame((currentTime) => this.loop(currentTime))\r\n\r\n    }\r\n\r\n    public static stop() {\r\n\r\n        GamaSource.state = GamaSourceState.STOPPED\r\n\r\n    }\r\n\r\n    public static resume() {\r\n\r\n        GamaSource.state = GamaSourceState.RUNNING\r\n\r\n    }\r\n\r\n    public static exit() {\r\n\r\n        GamaSource.state = GamaSourceState.CLOSED\r\n\r\n    }\r\n    public static falied() {\r\n\r\n        GamaSource.state = GamaSourceState.CRASHED\r\n\r\n    }\r\n\r\n}"],"names":[],"version":3,"file":"types.d.ts.map","sourceRoot":"../"}